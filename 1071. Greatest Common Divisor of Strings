class Solution 
{
    public String gcdOfStrings(String str1, String str2) 
    {
        String gcd = "";
        int breakIndex = Math.min(str1.length(), str2.length());
        int greaterLengthString = Math.max(str1.length(), str2.length());
        while (greaterLengthString % breakIndex != 0)
        {
            breakIndex--;
        }
        while (breakIndex > 0)
        {
            if (greaterLengthString % breakIndex == 0)
            {
                int startIndex = 0;
                int endIndex = breakIndex;
                if (startIndex < str1.length() && startIndex < str2.length() && endIndex <= str1.length() && endIndex <= str2.length() && str1.substring(startIndex, endIndex).equals(str2.substring(startIndex, endIndex)))
                {
                    gcd = str1.substring(startIndex, endIndex);
                    while (startIndex < str1.length() && endIndex <= str1.length() && str1.substring(startIndex, endIndex).equals(gcd))
                    {
                        startIndex = endIndex;
                        endIndex = endIndex + breakIndex;
                    }
                    if (endIndex > str1.length())
                    {
                        startIndex = 0;
                        endIndex = breakIndex;
                        while (startIndex < str2.length() && endIndex <= str2.length() && str2.substring(startIndex, endIndex).equals(gcd))
                        {
                            startIndex = endIndex;
                            endIndex = endIndex + breakIndex;
                        }
                        if (endIndex > str2.length())
                        {
                            return gcd;
                        }
                    }
                }
            }
            breakIndex--;
        }
        gcd = str1.substring(0, breakIndex);
        return gcd;
    }
}

/*
    The truth is, I suck at problem-solving. I hold a Gold Medal in my entire batch that amounts
    to nothing, simply because I let my mind go numb as I progressed through this degree. I'm boring.
    And there's no denying it. The little sparks of joy and ambition that you might see? Temporary
    and artifical. Nothing is sustainable. Nothing is permanent. Nothing is real. Nothing feels good
    anymore. Here I am writing my thoughts into a comment in a coding exercise. Why? Because I cannot
    say this anywhere else. Because I cannot feel this way at this point. Because it is useless to
    reflect on things I cannot change. Because this is the time to DO, not to feel. Because I have
    already wasted enough time already. Because I am a failure, and I must work extra hard now if I am
    to ever change that...
*/
